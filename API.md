<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [MapboxGeocoder][1]
    -   [Parameters][2]
    -   [Examples][3]
    -   [addTo][4]
        -   [Parameters][5]
    -   [clear][6]
        -   [Parameters][7]
    -   [query][8]
        -   [Parameters][9]
    -   [setInput][10]
        -   [Parameters][11]
    -   [setProximity][12]
        -   [Parameters][13]
    -   [getProximity][14]
    -   [setRenderFunction][15]
        -   [Parameters][16]
    -   [getRenderFunction][17]
    -   [setLanguage][18]
        -   [Parameters][19]
    -   [getLanguage][20]
    -   [getZoom][21]
    -   [setZoom][22]
        -   [Parameters][23]
    -   [getFlyTo][24]
    -   [setFlyTo][25]
        -   [Parameters][26]
    -   [getPlaceholder][27]
    -   [setPlaceholder][28]
        -   [Parameters][29]
    -   [getBbox][30]
    -   [setBbox][31]
        -   [Parameters][32]
    -   [getCountries][33]
    -   [setCountries][34]
        -   [Parameters][35]
    -   [getTypes][36]
    -   [setTypes][37]
        -   [Parameters][38]
    -   [getMinLength][39]
    -   [setMinLength][40]
        -   [Parameters][41]
    -   [getLimit][42]
    -   [setLimit][43]
        -   [Parameters][44]
    -   [getFilter][45]
    -   [getAutoFill][46]
    -   [setAutoFill][47]
        -   [Parameters][48]
    -   [setFilter][49]
        -   [Parameters][50]
    -   [setOrigin][51]
        -   [Parameters][52]
    -   [getOrigin][53]
    -   [setAutocomplete][54]
        -   [Parameters][55]
    -   [getAutocomplete][56]
    -   [setFuzzyMatch][57]
        -   [Parameters][58]
    -   [getFuzzyMatch][59]
    -   [setRouting][60]
        -   [Parameters][61]
    -   [getRouting][62]
    -   [setWorldview][63]
        -   [Parameters][64]
    -   [getWorldview][65]
    -   [on][66]
        -   [Parameters][67]
    -   [off][68]
        -   [Parameters][69]

## MapboxGeocoder

A geocoder component using the [Mapbox Geocoding API][70]

### Parameters

-   `options` **[Object][71]** 
    -   `options.accessToken` **[String][72]** Required.
    -   `options.origin` **[String][72]** Use to set a custom API origin. (optional, default `https://api.mapbox.com`)
    -   `options.mapboxgl` **[Object][71]?** A [mapbox-gl][73] instance to use when creating [Markers][74]. Required if `options.marker` is `true`.
    -   `options.zoom` **[Number][75]** On geocoded result what zoom level should the map animate to when a `bbox` isn't found in the response. If a `bbox` is found the map will fit to the `bbox`. (optional, default `16`)
    -   `options.flyTo` **([Boolean][76] \| [Object][71])** If `false`, animating the map to a selected result is disabled. If `true`, animating the map will use the default animation parameters. If an object, it will be passed as `options` to the map [`flyTo`][77] or [`fitBounds`][78] method providing control over the animation of the transition. (optional, default `true`)
    -   `options.placeholder` **[String][72]** Override the default placeholder attribute value. (optional, default `Search`)
    -   `options.proximity` **[Object][71]?** a proximity argument: this is
        a geographical point given as an object with `latitude` and `longitude`
        properties. Search results closer to this point will be given
        higher priority.
    -   `options.trackProximity` **[Boolean][76]** If `true`, the geocoder proximity will automatically update based on the map view. (optional, default `true`)
    -   `options.collapsed` **[Boolean][76]** If `true`, the geocoder control will collapse until hovered or in focus. (optional, default `false`)
    -   `options.clearAndBlurOnEsc` **[Boolean][76]** If `true`, the geocoder control will clear it's contents and blur when user presses the escape key. (optional, default `false`)
    -   `options.clearOnBlur` **[Boolean][76]** If `true`, the geocoder control will clear its value when the input blurs. (optional, default `false`)
    -   `options.bbox` **[Array][79]?** a bounding box argument: this is
        a bounding box given as an array in the format `[minX, minY, maxX, maxY]`.
        Search results will be limited to the bounding box.
    -   `options.countries` **[string][72]?** a comma separated list of country codes to
        limit results to specified country or countries.
    -   `options.types` **[string][72]?** a comma seperated list of types that filter
        results to match those specified. See [https://docs.mapbox.com/api/search/#data-types][80]
        for available types.
        If reverseGeocode is enabled and no type is specified, the type defaults to POIs. Otherwise, if you configure more than one type, the first type will be used.
    -   `options.minLength` **[Number][75]** Minimum number of characters to enter before results are shown. (optional, default `2`)
    -   `options.limit` **[Number][75]** Maximum number of results to show. (optional, default `5`)
    -   `options.language` **[string][72]?** Specify the language to use for response text and query result weighting. Options are IETF language tags comprised of a mandatory ISO 639-1 language code and optionally one or more IETF subtags for country or script. More than one value can also be specified, separated by commas. Defaults to the browser's language settings.
    -   `options.filter` **[Function][81]?** A function which accepts a Feature in the [Carmen GeoJSON][82] format to filter out results from the Geocoding API response before they are included in the suggestions list. Return `true` to keep the item, `false` otherwise.
    -   `options.localGeocoder` **[Function][81]?** A function accepting the query string which performs local geocoding to supplement results from the Mapbox Geocoding API. Expected to return an Array of GeoJSON Features in the [Carmen GeoJSON][82] format.
    -   `options.externalGeocoder` **[Function][81]?** A function accepting the query string and current features list which performs geocoding to supplement results from the Mapbox Geocoding API. Expected to return a Promise which resolves to an Array of GeoJSON Features in the [Carmen GeoJSON][82] format.
    -   `options.reverseMode` **(distance | score)** Set the factors that are used to sort nearby results. (optional, default `distance`)
    -   `options.reverseGeocode` **[boolean][76]** If `true`, enable reverse geocoding mode. In reverse geocoding, search input is expected to be coordinates in the form `lat, lon`, with suggestions being the reverse geocodes. (optional, default `false`)
    -   `options.enableEventLogging` **[Boolean][76]** Allow Mapbox to collect anonymous usage statistics from the plugin. (optional, default `true`)
    -   `options.marker` **([Boolean][76] \| [Object][71])** If `true`, a [Marker][74] will be added to the map at the location of the user-selected result using a default set of Marker options.  If the value is an object, the marker will be constructed using these options. If `false`, no marker will be added to the map. Requires that `options.mapboxgl` also be set. (optional, default `true`)
    -   `options.render` **[Function][81]?** A function that specifies how the results should be rendered in the dropdown menu. This function should accepts a single [Carmen GeoJSON][82] object as input and return a string. Any HTML in the returned string will be rendered.
    -   `options.autoFill` **[Object][71]?** An object mapping query selectors of form inputs to parts of selected result. When a result is selected, the form elements will be automatically populated with the result data.
    -   `options.getItemValue` **[Function][81]?** A function that specifies how the selected result should be rendered in the search bar. This function should accept a single [Carmen GeoJSON][82] object as input and return a string. HTML tags in the output string will not be rendered. Defaults to `(item) => item.place_name`.
    -   `options.mode` **[String][72]** A string specifying the geocoding [endpoint][83] to query. Options are `mapbox.places` and `mapbox.places-permanent`. The `mapbox.places-permanent` mode requires an enterprise license for permanent geocodes. (optional, default `mapbox.places`)
    -   `options.localGeocoderOnly` **[Boolean][76]** If `true`, indicates that the `localGeocoder` results should be the only ones returned to the user. If `false`, indicates that the `localGeocoder` results should be combined with those from the Mapbox API with the `localGeocoder` results ranked higher. (optional, default `false`)
    -   `options.autocomplete` **[Boolean][76]** Specify whether to return autocomplete results or not. When autocomplete is enabled, results will be included that start with the requested string, rather than just responses that match it exactly. (optional, default `true`)
    -   `options.fuzzyMatch` **[Boolean][76]** Specify whether the Geocoding API should attempt approximate, as well as exact, matching when performing searches, or whether it should opt out of this behavior and only attempt exact matching. (optional, default `true`)
    -   `options.routing` **[Boolean][76]** Specify whether to request additional metadata about the recommended navigation destination corresponding to the feature or not. Only applicable for address features. (optional, default `false`)
    -   `options.worldview` **[String][72]** Filter results to geographic features whose characteristics are defined differently by audiences belonging to various regional, cultural, or political groups. (optional, default `"us"`)

### Examples

```javascript
var geocoder = new MapboxGeocoder({ accessToken: mapboxgl.accessToken });
map.addControl(geocoder);
```

Returns **[MapboxGeocoder][84]** `this`

### addTo

Add the geocoder to a container. The container can be either a `mapboxgl.Map`, an `HTMLElement` or a CSS selector string.

If the container is a [`mapboxgl.Map`][85], this function will behave identically to [`Map.addControl(geocoder)`][86].
If the container is an instance of [`HTMLElement`][87], then the geocoder will be appended as a child of that [`HTMLElement`][87].
If the container is a [CSS selector string][88], the geocoder will be appended to the element returned from the query.

This function will throw an error if the container is none of the above.
It will also throw an error if the referenced HTML element cannot be found in the `document.body`.

For example, if the HTML body contains the element `<div id='geocoder-container'></div>`, the following script will append the geocoder to `#geocoder-container`:

```javascript
var geocoder = new MapboxGeocoder({ accessToken: mapboxgl.accessToken });
geocoder.addTo('#geocoder-container');
```

#### Parameters

-   `container` **([String][72] \| [HTMLElement][89] | mapboxgl.Map)** A reference to the container to which to add the geocoder

### clear

Clear and then focus the input.

#### Parameters

-   `ev` **[Event][90]?** the event that triggered the clear, if available

### query

Set & query the input

#### Parameters

-   `searchInput` **[string][72]** location name or other search input

Returns **[MapboxGeocoder][84]** this

### setInput

Set input

#### Parameters

-   `searchInput` **[string][72]** location name or other search input

Returns **[MapboxGeocoder][84]** this

### setProximity

Set proximity

#### Parameters

-   `proximity` **[Object][71]** The new `options.proximity` value. This is a geographical point given as an object with `latitude` and `longitude` properties.

Returns **[MapboxGeocoder][84]** this

### getProximity

Get proximity

Returns **[Object][71]** The geocoder proximity

### setRenderFunction

Set the render function used in the results dropdown

#### Parameters

-   `fn` **[Function][81]** The function to use as a render function. This function accepts a single [Carmen GeoJSON][82] object as input and returns a string.

Returns **[MapboxGeocoder][84]** this

### getRenderFunction

Get the function used to render the results dropdown

Returns **[Function][81]** the render function

### setLanguage

Get the language to use in UI elements and when making search requests

Look first at the explicitly set options otherwise use the browser's language settings

#### Parameters

-   `language` **[String][72]** Specify the language to use for response text and query result weighting. Options are IETF language tags comprised of a mandatory ISO 639-1 language code and optionally one or more IETF subtags for country or script. More than one value can also be specified, separated by commas.

Returns **[MapboxGeocoder][84]** this

### getLanguage

Get the language to use in UI elements and when making search requests

Returns **[String][72]** The language(s) used by the plugin, if any

### getZoom

Get the zoom level the map will move to when there is no bounding box on the selected result

Returns **[Number][75]** the map zoom

### setZoom

Set the zoom level

#### Parameters

-   `zoom` **[Number][75]** The zoom level that the map should animate to when a `bbox` isn't found in the response. If a `bbox` is found the map will fit to the `bbox`.

Returns **[MapboxGeocoder][84]** this

### getFlyTo

Get the parameters used to fly to the selected response, if any

Returns **([Boolean][76] \| [Object][71])** The `flyTo` option

### setFlyTo

Set the flyTo options

#### Parameters

-   `flyTo` **([Boolean][76] \| [Object][71])** If false, animating the map to a selected result is disabled. If true, animating the map will use the default animation parameters. If an object, it will be passed as `options` to the map [`flyTo`][77] or [`fitBounds`][78] method providing control over the animation of the transition.

### getPlaceholder

Get the value of the placeholder string

Returns **[String][72]** The input element's placeholder value

### setPlaceholder

Set the value of the input element's placeholder

#### Parameters

-   `placeholder` **[String][72]** the text to use as the input element's placeholder

Returns **[MapboxGeocoder][84]** this

### getBbox

Get the bounding box used by the plugin

Returns **[Array][79]&lt;[Number][75]>** the bounding box, if any

### setBbox

Set the bounding box to limit search results to

#### Parameters

-   `bbox` **[Array][79]&lt;[Number][75]>** a bounding box given as an array in the format [minX, minY, maxX, maxY].

Returns **[MapboxGeocoder][84]** this

### getCountries

Get a list of the countries to limit search results to

Returns **[String][72]** a comma separated list of countries to limit to, if any

### setCountries

Set the countries to limit search results to

#### Parameters

-   `countries` **[String][72]** a comma separated list of countries to limit to

Returns **[MapboxGeocoder][84]** this

### getTypes

Get a list of the types to limit search results to

Returns **[String][72]** a comma separated list of types to limit to

### setTypes

Set the types to limit search results to

#### Parameters

-   `types`  
-   `countries` **[String][72]** a comma separated list of types to limit to

Returns **[MapboxGeocoder][84]** this

### getMinLength

Get the minimum number of characters typed to trigger results used in the plugin

Returns **[Number][75]** The minimum length in characters before a search is triggered

### setMinLength

Set the minimum number of characters typed to trigger results used by the plugin

#### Parameters

-   `minLength` **[Number][75]** the minimum length in characters

Returns **[MapboxGeocoder][84]** this

### getLimit

Get the limit value for the number of results to display used by the plugin

Returns **[Number][75]** The limit value for the number of results to display used by the plugin

### setLimit

Set the limit value for the number of results to display used by the plugin

#### Parameters

-   `limit` **[Number][75]** the number of search results to return

Returns **[MapboxGeocoder][84]** 

### getFilter

Get the filter function used by the plugin

Returns **[Function][81]** the filter function

### getAutoFill

Get the autoFill object mapping parts of the selected search result to query selectors

Returns **[Object][71]** The object mapping query selectors (keys) to parts of the selected search result (values)

### setAutoFill

Set the autoFill object mapping parts of the selected search result to query selectors

#### Parameters

-   `obj`  
-   `An` **[Object][71]** object mapping query selectors (keys) to parts of the selected search result (values)

Returns **[MapboxGeocoder][84]** 

### setFilter

Set the filter function used by the plugin.

#### Parameters

-   `filter` **[Function][81]** A function which accepts a Feature in the [Carmen GeoJSON][82] format to filter out results from the Geocoding API response before they are included in the suggestions list. Return `true` to keep the item, `false` otherwise.

Returns **[MapboxGeocoder][84]** this

### setOrigin

Set the geocoding endpoint used by the plugin.

#### Parameters

-   `origin` **[Function][81]** A function which accepts an HTTPS URL to specify the endpoint to query results from.

Returns **[MapboxGeocoder][84]** this

### getOrigin

Get the geocoding endpoint the plugin is currently set to

Returns **[Function][81]** the endpoint URL

### setAutocomplete

Set the autocomplete option used for geocoding requests

#### Parameters

-   `value` **[Boolean][76]** The boolean value to set autocomplete to

### getAutocomplete

Get the current autocomplete parameter value used for requests

Returns **[Boolean][76]** The autocomplete parameter value

### setFuzzyMatch

Set the fuzzyMatch option used for approximate matching in geocoding requests

#### Parameters

-   `value` **[Boolean][76]** The boolean value to set fuzzyMatch to

### getFuzzyMatch

Get the current fuzzyMatch parameter value used for requests

Returns **[Boolean][76]** The fuzzyMatch parameter value

### setRouting

Set the routing parameter used to ask for routable point metadata in geocoding requests

#### Parameters

-   `value` **[Boolean][76]** The boolean value to set routing to

### getRouting

Get the current routing parameter value used for requests

Returns **[Boolean][76]** The routing parameter value

### setWorldview

Set the worldview parameter

#### Parameters

-   `code` **[String][72]** The country code representing the worldview (e.g. "us" | "cn" | "jp", "in")

### getWorldview

Get the current worldview parameter value used for requests

Returns **[String][72]** The worldview parameter value

### on

Subscribe to events that happen within the plugin.

#### Parameters

-   `type` **[String][72]** name of event. Available events and the data passed into their respective event objects are:-   **clear** `Emitted when the input is cleared`
    -   **loading** `{ query } Emitted when the geocoder is looking up a query`
    -   **results** `{ results } Fired when the geocoder returns a response`
    -   **result** `{ result } Fired when input is set`
    -   **error** `{ error } Error as string`
-   `fn` **[Function][81]** function that's called when the event is emitted.

Returns **[MapboxGeocoder][84]** this;

### off

Remove an event

#### Parameters

-   `type` **[String][72]** Event name.
-   `fn` **[Function][81]** Function that should unsubscribe to the event emitted.

Returns **[MapboxGeocoder][84]** this

[1]: #mapboxgeocoder

[2]: #parameters

[3]: #examples

[4]: #addto

[5]: #parameters-1

[6]: #clear

[7]: #parameters-2

[8]: #query

[9]: #parameters-3

[10]: #setinput

[11]: #parameters-4

[12]: #setproximity

[13]: #parameters-5

[14]: #getproximity

[15]: #setrenderfunction

[16]: #parameters-6

[17]: #getrenderfunction

[18]: #setlanguage

[19]: #parameters-7

[20]: #getlanguage

[21]: #getzoom

[22]: #setzoom

[23]: #parameters-8

[24]: #getflyto

[25]: #setflyto

[26]: #parameters-9

[27]: #getplaceholder

[28]: #setplaceholder

[29]: #parameters-10

[30]: #getbbox

[31]: #setbbox

[32]: #parameters-11

[33]: #getcountries

[34]: #setcountries

[35]: #parameters-12

[36]: #gettypes

[37]: #settypes

[38]: #parameters-13

[39]: #getminlength

[40]: #setminlength

[41]: #parameters-14

[42]: #getlimit

[43]: #setlimit

[44]: #parameters-15

[45]: #getfilter

[46]: #getautofill

[47]: #setautofill

[48]: #parameters-16

[49]: #setfilter

[50]: #parameters-17

[51]: #setorigin

[52]: #parameters-18

[53]: #getorigin

[54]: #setautocomplete

[55]: #parameters-19

[56]: #getautocomplete

[57]: #setfuzzymatch

[58]: #parameters-20

[59]: #getfuzzymatch

[60]: #setrouting

[61]: #parameters-21

[62]: #getrouting

[63]: #setworldview

[64]: #parameters-22

[65]: #getworldview

[66]: #on

[67]: #parameters-23

[68]: #off

[69]: #parameters-24

[70]: https://docs.mapbox.com/api/search/#geocoding

[71]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[72]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[73]: https://github.com/mapbox/mapbox-gl-js

[74]: https://docs.mapbox.com/mapbox-gl-js/api/#marker

[75]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[76]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[77]: https://docs.mapbox.com/mapbox-gl-js/api/#map#flyto

[78]: https://docs.mapbox.com/mapbox-gl-js/api/#map#fitbounds

[79]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[80]: https://docs.mapbox.com/api/search/#data-types

[81]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[82]: https://github.com/mapbox/carmen/blob/master/carmen-geojson.md

[83]: https://docs.mapbox.com/api/search/#endpoints

[84]: #mapboxgeocoder

[85]: https://docs.mapbox.com/mapbox-gl-js/api/map/

[86]: https://docs.mapbox.com/mapbox-gl-js/api/map/#map#addcontrol

[87]: https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement

[88]: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors

[89]: https://developer.mozilla.org/docs/Web/HTML/Element

[90]: https://developer.mozilla.org/docs/Web/API/Event
